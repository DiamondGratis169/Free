<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultra Neon Spin</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">

    <h1 class="title">SPIN WHEEL</h1>

    <div class="wheel-box">

        <div class="explosion" id="explosion"></div>

        <div class="pointer">
  <svg width="60" height="90" viewBox="0 0 100 150">
    <polygon points="50,0 100,120 70,120 70,150 30,150 30,120 0,120"
      fill="#39ff14"/>
  </svg>
        </div>
        <div class="circle neon">
            <img src="img1.png">
            <img src="img2.png">
            <img src="img3.png">
            <img src="img4.png">
            <img src="img5.png">
            <img src="img6.png">
        </div>
    </div>

    <button class="spin-btn" onclick="spin()">SPIN</button>

</div>

<!-- SOUND -->
<audio id="spinSound" src="spin.mp3"></audio>
<audio id="winSound" src="win.mp3"></audio>

<!-- POPUP -->
<div class="popup" id="popup">
    <div class="popup-content">
        <h2>KAMU MENDAPATKAN</h2>
        <img id="resultImg">
        <button onclick="next()">Berikutnya</button>
    </div>
</div>

<script>
const images = [
    "img1.png",
    "img2.png",
    "img3.png",
    "img4.png",
    "img5.png",
    "img6.png"
];

let spinning = false;

function spin() {
    if (spinning) return;
    spinning = true;

    const pointer = document.getElementById("pointer");
    const spinSound = document.getElementById("spinSound");
    const winSound = document.getElementById("winSound");
    const explosion = document.getElementById("explosion");

    spinSound.currentTime = 0;
    spinSound.play();

    const randomIndex = Math.floor(Math.random() * images.length);
    const degreePerItem = 360 / images.length;
    const finalDegree = (360 * 5) + (randomIndex * degreePerItem);

    pointer.style.transition = "transform 10s cubic-bezier(.17,.67,.83,.67)";
    pointer.style.transform = `rotate(${finalDegree}deg)`;

    setTimeout(() => {

        spinSound.pause();
        winSound.play();

        explosion.classList.add("boom");

        document.getElementById("resultImg").src = images[randomIndex];
        document.getElementById("popup").style.display = "flex";

        setTimeout(() => {
            explosion.classList.remove("boom");
        }, 800);

        spinning = false;

    }, 10000);
}

function next(){
    document.getElementById("popup").style.display = "none";
    setTimeout(function(){
        window.location.href = "fandi.html";
    }, 2000);
}
</script>

</body>
</html>
